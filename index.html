<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>Word Guess Game
    </title>
    <!-- Added a link to Style-->
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <!-- Added a link to Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <!-- Added a link to JavaScript-->
    <script type="text/javascript" src="assets/javascript/game.js"></script>
</head>

<body>

    <h1>Word Guess Game</h1>
    <p>Guess the Super Smash Bros. character</p>

    <div id="guessMade"></div>
    <div id="guessLeft"></div>
    <br>
    <div id="letterBlanks"></div>
    <div id="theAnswer"></div>
    

<script type="text/javascript">
  
    // Creates variables
    /*var characterList = "Mario, Donkey Kong, Link, Samus Aran, Yoshi, Kirby, Fox, Pikachu, Ness, Captain Falcon, Bowser, Peach, Ice Climbers, Zelda, Sheik, Luiki, Jigglypuff, Mewtwo, Marth, Mr Game And Watch, Dr Mario, Ganondorf, Falco, Young Link, Pichu, Roy".split(", ");*/
    var characterList = "mario, donkey kong, link, samus aran, yoshi, kirby, fox, pikachu, ness, captain falcon, bowser, peach, ice climbers, zelda, sheik, luigi, jigglypuff, mewtwo, marth, mr game and watch, dr mario, ganondorf, falco, young link, pichu, roy".split(", ");
    var alpha = "abcdefghijklmnopqrstuvwxyz".split('');
    console.log(characterList);
    var word = characterList[Math.floor(Math.random() * characterList.length)];
    var guessesLeft = 15;
    var guessesMade = "";
    var letterBlanks = [];
    var wins = 0;
    var losses = 0;
    var result = [];
    
    //set up function that will take the length of the name selected and add blank spaces
    /*function setUpGame() {
        
        console.log(word);
        for (var i=0; i < word.length; i++){
            if (word[i] === " ") {
                letterBlanks.push("&nbsp;");
            } else {
                letterBlanks.push(" _ ");
            }
            document.write(letterBlanks[i]);
        }
        console.log(letterBlanks);
    };
    setUpGame();*/
    function setUpGame() {
        
        

        for(var i = 0; i < word.length; i++){
            if (word[i] === " ") {
                result.push("&nbsp;");
            } else {
                result.push(" _ ");
            }
        }
        
        //result.toString(); //returns _,_,_,_,_,_
        /*result[0] //returns the first underscore
        result[5] //returns the last underscore
        result[2] = 'A'; // Replaces the third underscore with the letter 'A' (zero based)*/
        
        //for(var i = 0; i < word.length; i++) { 
          //  document.write(result[i] + '  ');  
        //}
        console.log(result);
        console.log(word);
        //return(result);
    };
    setUpGame();
console.log(result);
    function updateWrongGuess() {
	    guessesLeft--;
	    //document.getElementById("guessMade").innerHTML = guessesMade;
	    document.getElementById("guessLeft").innerHTML = guessesLeft;
    };
    updateWrongGuess();
    

    document.onkeyup = function(event) {
        
        if (event.keyCode >= 65 && event.keyCode <= 90) {
	        var userGuess = String.fromCharCode(event.keyCode).toLowerCase();
            console.log(userGuess);
	        if (word.indexOf (userGuess) > -1) {
		        console.log("You guessed a correct letter");
    		    document.getElementById('theAnswer').innerHTML += userGuess;
	    	    //document.getElementById('lettersGuessed').innerHTML += userGuess;
		        wins = wins + 1;
		        if (wins === 6) {
        		    console.log("YOU WON");
        		    setUpGame();
                }
                
            } else {
	            guessesLeft = guessesLeft - 1;
    	        if (guessesLeft === 0) {
                    console.log("YOU LOSE");
                } else {
	                console.log("WRONG GUESS! YOU NOW HAVE " + guessesLeft + " LEFT.");
		            //document.getElementById('guessesMade').innerHTML += userGuess;
    		        //document.getElementById('guess').innerHTML = guessesLeft;
	            }
            }
        }
    };

</script>

</body>

</html>